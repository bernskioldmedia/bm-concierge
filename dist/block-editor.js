!function(e){var t={};function c(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=t,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c(c.s=9)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.editPost},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.plugins},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.wordcount},function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(3),o=c(4),i=c(1),l=c(6),a=c(2);function s(){return Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",size:"20",className:"bm-concierge-icon"},Object(r.createElement)(a.Path,{fill:"currentColor",d:"M280 145.3V112h16C309.3 112 320 101.3 320 88S309.3 64 296 64H215.1C202.7 64 192 74.75 192 87.1S202.7 112 215.1 112H232v33.32C119.6 157.3 32 252.4 32 368h448C480 252.4 392.4 157.3 280 145.3zM488 400h-464C10.75 400 0 410.7 0 423.1C0 437.3 10.75 448 23.1 448h464c13.25 0 24-10.75 24-23.1C512 410.7 501.3 400 488 400z"}))}function b(e,t){return t?Intl.NumberFormat(function(e){switch(e){case"SEK":return"sv-SE";default:return"en-US"}}(t),{style:"currency",currency:t,maximumFractionDigits:0}).format(e):e}var u=c(7),m=c(8);function O(){const e=Object(n.select)("core/block-editor").getBlocks();return Object(m.count)(Object(u.serialize)(e),"words")}const d=(e,t={})=>{const{normalPrice:c=null,expressPrice:r=null,currency:o=null}=Object(n.useSelect)(c=>{var r;const{prices:n}=c("bm/concierge").getPrices(e,t),{normal:o,express:i,currency:l}=null!==(r=n[e])&&void 0!==r?r:{};return{expressPrice:i,normalPrice:o,currency:l}},[e,t]),i=r-c;return{expressPriceExtra:i,expressPrice:r,normalPrice:c,currency:o,formattedExpressPrice:b(r,o),formattedNormalPrice:b(c,o),formattedExpressPriceExtra:b(i,o)}},p=()=>d("onpage",{wordCount:O()}),g=()=>d("accessibility"),j=()=>d("proofreading",{wordCount:O()}),_=()=>d("layout",{wordCount:O()}),E=()=>{const{services:e={}}=Object(n.useSelect)(e=>e("bm/concierge").getServices(),[]),{onpage:t,proofreading:c,layout:r,accessibility:o}=e;return{enabledServicesCount:Object.keys(e).length,hasLoadedServices:Object.keys(e).length>0,isOnpageEnabled:!0===t,isProofreadingEnabled:!0===c,isLayoutEnabled:!0===r,isAccessibilityEnabled:!0===o}};function h(){const{isLayoutEnabled:e,isOnpageEnabled:t,isProofreadingEnabled:c,isAccessibilityEnabled:o,hasLoadedServices:l}=E(),{formattedNormalPrice:s}=j(),{formattedNormalPrice:b}=p(),{formattedNormalPrice:u}=g(),{formattedNormalPrice:m}=_();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,Object(i.__)("Sometimes you could use an extra hand. We'll help you make your content and website be the best it can be.","bm-concierge")),0===l?Object(r.createElement)(a.Spinner,null):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("ul",null,o&&Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Accessibility Audit","bm-concierge"),":")," ",u||Object(r.createElement)(a.Spinner,null)),t&&Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("SEO Optimization","bm-concierge"),":")," ",b||Object(r.createElement)(a.Spinner,null)),c&&Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Proofreading","bm-concierge"),":")," ",s||Object(r.createElement)(a.Spinner,null)),e&&Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Layout","bm-concierge"),":")," ",m||Object(r.createElement)(a.Spinner,null))),Object(r.createElement)(a.Button,{onClick:()=>{Object(n.dispatch)("core/edit-post").openGeneralSidebar("bm-concierge/sidebar")},variant:"secondary",isSecondary:!0},Object(i.__)("Open Concierge","bm-concierge")),Object(r.createElement)("p",{className:"bm-concierge-disclaimer"},Object(i.__)("Some prices may depend on how much content you have. As you update the page, the price may update.","bm-concierge"))))}const y=()=>{const{placeOrder:e}=Object(n.useDispatch)("bm/concierge"),[t,c]=Object(r.useState)(!1),[o,i]=Object(r.useState)(!1);return{orderModalOpen:t,orderSubmitted:o,openOrderModal:()=>c(!0),closeOrderModal:()=>{c(!1),i(!1)},placeOrder:Object(r.useCallback)(t=>{e({...t,postId:Object(n.select)("core/editor").getCurrentPostId()}),i(!0)})}};function f(e){const{title:t,isOpen:c,onClose:n,hasBeenSubmitted:o,children:l,submitButtonText:s=Object(i.__)("Place Order","bm-concierge"),thankYouNotice:b=Object(i.__)("Thanks for placing your concierge order. You will receive a confirmation at your e-mail address shortly.","bm-concierge"),onSubmit:u}=e;return c?Object(r.createElement)(a.Modal,{title:t,onRequestClose:n,className:"bm-concierge-order-modal"},o?Object(r.createElement)(a.Notice,{status:"success",isDismissible:!1},b):Object(r.createElement)(r.Fragment,null,l,Object(r.createElement)(a.Flex,{expanded:!0,justify:"flex-end"},Object(r.createElement)(a.FlexBlock,null,Object(r.createElement)(a.Button,{href:Object(i._x)("https://bernskioldmedia.com/en/terms-policies/concierge/","concierge terms page","bm-concierge"),target:"_blank",style:{color:"#666",textDecoration:"underline"}},Object(i.__)("Our concierge terms apply â€º","bm-concierge"))),Object(r.createElement)(a.FlexItem,null,Object(r.createElement)(a.Button,{variant:"secondary",isSecondary:!0,onClick:n,style:{margin:"4px"}},Object(i.__)("Never Mind","bm-concierge"))),Object(r.createElement)(a.FlexItem,null,Object(r.createElement)(a.Button,{variant:"primary",isPrimary:!0,onClick:u,style:{margin:"4px"}},s))))):null}function S(){const{orderModalOpen:e,orderSubmitted:t,placeOrder:c,closeOrderModal:n,openOrderModal:o}=y(),[l,s]=Object(r.useState)(!1),{formattedNormalPrice:b,formattedExpressPrice:u,formattedExpressPriceExtra:m}=g(),O=l?u:b;return Object(r.createElement)(a.PanelBody,{title:b?Object(i.sprintf)(Object(i.__)("Accessibility Audit: %s","bm-concierge"),b):Object(r.createElement)(r.Fragment,null,Object(i.__)("Accessibility Audit: ","bm-concierge"),Object(r.createElement)(a.Spinner,null)),initialOpen:!1},Object(r.createElement)("p",null,Object(i.__)("Confidently meet WCAG accessibility criteria. We'll analyze your content and return to you a checklist of things to address to meet the criteria.","bm-concierge")),Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Turnaround","bm-concierge"),":")," ",Object(i.__)("72 hours (24h express)","bm-concierge")),Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Price","bm-concierge"),":")," ",b)),Object(r.createElement)(a.Button,{variant:"secondary",isSecondary:!0,onClick:o},Object(i.__)("Proceed to Order","bm-concierge")),Object(r.createElement)(f,{title:Object(i.__)("Accessibility Review Concierge","bm-concierge"),isOpen:e,onClose:n,hasBeenSubmitted:t,submitButtonText:Object(i.__)("Start Accessibility Audit","bm-concierge"),onSubmit:()=>{c({type:"accessibility-review",express:l,price:O})}},Object(r.createElement)("p",null,Object(i.__)("Publishing accessible content is important. In some sectors even required. An accessibility audit on this page against WCAG 2.1 AA includes all content and documents on it. You get a comprehensive audit protocol showing you what to improve and what is already good.","bm-concierge")),Object(r.createElement)("p",null,Object(i.__)("We'll have the analysis back to you in 72 hours via email. In a hurry? Add the express option and get it back within 24 hours.","bm-concierge")),Object(r.createElement)("hr",{className:"bm-concierge-divider"}),Object(r.createElement)(a.ToggleControl,{label:Object(i.sprintf)(Object(i.__)("Express Delivery (%s)","bm-concierge"),m),help:l?Object(i.__)("You've chosen express. You will get the analysis in 24 hours.","bm-concierge"):Object(i.__)("Without express, you will get the analysis in 72 hours.","bm-concierge"),onChange:()=>s(!l),checked:!0===l}),Object(r.createElement)("p",null,Object(i.__)("Your Price:","bm-concierge")," ",Object(r.createElement)("strong",null,O))))}function x(){const{orderModalOpen:e,orderSubmitted:t,placeOrder:c,closeOrderModal:n,openOrderModal:o}=y(),[l,s]=Object(r.useState)(!1),{formattedNormalPrice:b,formattedExpressPrice:u,formattedExpressPriceExtra:m}=_(),O=l?u:b;return Object(r.createElement)(a.PanelBody,{title:b?Object(i.sprintf)(Object(i.__)("Layout: %s","bm-concierge"),b):Object(r.createElement)(r.Fragment,null,Object(i.__)("Layout: ","bm-concierge"),Object(r.createElement)(a.Spinner,null)),initialOpen:!1},Object(r.createElement)("p",null,Object(i.__)("Good design leaves a lasting impression and converts visitors. Let us help you create an engaging layout for this page.","bm-concierge")),Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Turnaround","bm-concierge"),":")," ",Object(i.__)("72 hours (24h express)","bm-concierge")),Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Price","bm-concierge"),":")," ",b)),Object(r.createElement)(a.Button,{variant:"secondary",isSecondary:!0,onClick:o},Object(i.__)("Proceed to Order","bm-concierge")),Object(r.createElement)(f,{title:Object(i.__)("Layout Concierge","bm-concierge"),isOpen:e,onClose:n,hasBeenSubmitted:t,submitButtonText:Object(i.__)("Send for Layouting","bm-concierge"),onSubmit:()=>{c({type:"layout",express:l,price:O})}},Object(r.createElement)("p",null,Object(i.__)("Using the full range of visuals on your website well make this page look interesting, great and converting.","bm-concierge")),Object(r.createElement)("p",null,Object(i.__)("We won't create illustrations, graphics or other media as part of this. But we may suggest it if we think it will benefit the page.","bm-concierge")),Object(r.createElement)("p",null,Object(i.__)("We'll have the text back to you in 72 hours, right here in the editor. In a hurry? Add the express option and get it back within 24 hours.","bm-concierge")),Object(r.createElement)("hr",{className:"bm-concierge-divider"}),Object(r.createElement)(a.ToggleControl,{label:Object(i.sprintf)(Object(i.__)("Express Delivery (%s)","bm-concierge"),m),help:l?Object(i.__)("You've chosen express. Your page layout will be done in 24 hours.","bm-concierge"):Object(i.__)("Without express, your page layout will be done in 72 hours.","bm-concierge"),onChange:()=>s(!l),checked:!0===l}),Object(r.createElement)("p",null,Object(i.__)("Your Price:","bm-concierge")," ",Object(r.createElement)("strong",null,O))))}function P(){const{orderModalOpen:e,orderSubmitted:t,placeOrder:c,closeOrderModal:n,openOrderModal:o}=y(),[l,s]=Object(r.useState)(!1),[b,u]=Object(r.useState)(null),{formattedNormalPrice:m,formattedExpressPrice:O,formattedExpressPriceExtra:d}=p(),g=l?O:m;return Object(r.createElement)(a.PanelBody,{title:m?Object(i.sprintf)(Object(i.__)("SEO Optimization: %s","bm-concierge"),m):Object(r.createElement)(r.Fragment,null,Object(i.__)("SEO Optimization: ","bm-concierge"),Object(r.createElement)(a.Spinner,null)),initialOpen:!1},Object(r.createElement)("p",null,Object(i.__)("Make your page rank well in search engines by on-page SEO optimization.","bm-concierge")),Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Turnaround","bm-concierge"),":")," ",Object(i.__)("72 hours (24h express)","bm-concierge")),Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Price","bm-concierge"),":")," ",m)),Object(r.createElement)(a.Button,{variant:"secondary",isSecondary:!0,onClick:o},Object(i.__)("Proceed to Order","bm-concierge")),Object(r.createElement)(f,{title:Object(i.__)("SEO Optimization Concierge","bm-concierge"),isOpen:e,onClose:n,hasBeenSubmitted:t,submitButtonText:Object(i.__)("Send for SEO Optimization","bm-concierge"),onSubmit:()=>{c({type:"onpage",express:l,price:g,keyword:b})}},Object(r.createElement)("p",null,Object(i.__)("On-page SEO optimization boosts the ranking for the page in search engines. Based on your keyword, we will adjust the page for optimal ranking. Tweaking copy, optimizing titles and descriptions for Google and social sharing and taking care of more technical factors.","bm-concierge")),Object(r.createElement)("p",null,Object(i.__)("We'll have the page ready for you in 72 hours, right here in the editor. In a hurry? Add the express option and have it ready within 24 hours.","bm-concierge")),Object(r.createElement)("hr",{className:"bm-concierge-divider"}),Object(r.createElement)(a.TextControl,{label:Object(i.__)("Target Search Keyword","bm-concierge"),onChange:u,help:Object(i.__)("We need to know what search keyword you want your page to rank for in Google. Well check to make sure that it is reasonable before we do the optimization.","bm-concierge")}),Object(r.createElement)(a.ToggleControl,{label:Object(i.sprintf)(Object(i.__)("Express Delivery (%s)","bm-concierge"),d),help:l?Object(i.__)("You've chosen express. You will have it ready in 24 hours.","bm-concierge"):Object(i.__)("Without express, you will have the page ready in 72 hours.","bm-concierge"),onChange:()=>s(!l),checked:!0===l}),Object(r.createElement)("p",null,Object(i.__)("Your Price:","bm-concierge")," ",Object(r.createElement)("strong",null,g))))}function w(){const{orderModalOpen:e,orderSubmitted:t,placeOrder:c,closeOrderModal:n,openOrderModal:o}=y(),[l,s]=Object(r.useState)(!1),{formattedNormalPrice:b,formattedExpressPrice:u,formattedExpressPriceExtra:m}=j(),O=l?u:b;return Object(r.createElement)(a.PanelBody,{title:b?Object(i.sprintf)(Object(i.__)("Proofreading: %s","bm-concierge"),b):Object(r.createElement)(r.Fragment,null,Object(i.__)("Proofreading: ","bm-concierge"),Object(r.createElement)(a.Spinner,null)),initialOpen:!1},Object(r.createElement)("p",null,Object(i.__)("Ready to publish but want a second eye? Let us proof your content to free it from mistakes.","bm-concierge")),Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Turnaround","bm-concierge"),":")," ",Object(i.__)("72 hours (24h express)","bm-concierge")),Object(r.createElement)("li",null,Object(r.createElement)("strong",null,Object(i.__)("Price","bm-concierge"),":")," ",b)),Object(r.createElement)(a.Button,{variant:"secondary",isSecondary:!0,onClick:o},Object(i.__)("Proceed to Order","bm-concierge")),Object(r.createElement)(f,{title:Object(i.__)("Proofreading Concierge","bm-concierge"),isOpen:e,onClose:n,hasBeenSubmitted:t,submitButtonText:Object(i.__)("Send for Proofreading","bm-concierge"),onSubmit:()=>{c({type:"proofreading",express:l,price:O})}},Object(r.createElement)("p",null,Object(i.__)("Proofreading includes catching any errors and making sure the content adheres to a well-formed style.","bm-concierge")),Object(r.createElement)("p",null,Object(i.__)("We'll have the text back to you in 72 hours, right here in the editor. In a hurry? Add the express option and get it back within 24 hours.","bm-concierge")),Object(r.createElement)("hr",{className:"bm-concierge-divider"}),Object(r.createElement)(a.ToggleControl,{label:Object(i.sprintf)(Object(i.__)("Express Delivery (%s)","bm-concierge"),m),help:l?Object(i.__)("You've chosen express. You will get your content back in 24 hours.","bm-concierge"):Object(i.__)("Without express, you will get your text back in 72 hours.","bm-concierge"),onChange:()=>s(!l),checked:!0===l}),Object(r.createElement)("p",null,Object(i.__)("Your Price:","bm-concierge")," ",Object(r.createElement)("strong",null,O))))}function v(){const{hasLoadedServices:e,isAccessibilityEnabled:t,isOnpageEnabled:c,isProofreadingEnabled:n,isLayoutEnabled:o}=E();return e?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(C,null),t&&Object(r.createElement)(S,null),c&&Object(r.createElement)(P,null),n&&Object(r.createElement)(w,null),o&&Object(r.createElement)(x,null),Object(r.createElement)(a.PanelBody,null,Object(r.createElement)("p",{className:"bm-concierge-disclaimer"},Object(i.__)("Some prices may depend on how much content you have. As you update the page, the price may update.","bm-concierge")),Object(r.createElement)("p",{className:"bm-concierge-disclaimer"},Object(i.__)("All prices apply to this specific page of content only. Not the entire website.","bm-concierge")))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(C,null),Object(r.createElement)(a.PanelBody,null,Object(r.createElement)(a.Spinner,null)))}const C=()=>Object(r.createElement)(a.PanelBody,null,Object(r.createElement)("p",null,Object(i.__)("Sometimes you could use an extra hand. We'll help you make your content and website be the best it can be.","bm-concierge")));var k=c(5),A=c.n(k);const B={services:[],prices:{}},T={*placeOrder(e){return{type:"PLACE_ORDER",response:yield T.postToApi("/bm-concierge/v1/order",e)}},setServices:e=>({type:"SET_SERVICES",services:e}),setPrices:(e,t,c,r)=>({type:"SET_PRICES",service:e,express:t,normal:c,currency:r}),fetchFromApi:e=>({type:"FETCH_FROM_API",path:e}),postToApi:(e,t)=>({type:"POST_TO_API",path:e,data:t})};var M=Object(n.createReduxStore)("bm/concierge",{reducer(e=B,t){switch(t.type){case"PLACE_ORDER":return{...e,data:t.data};case"SET_SERVICES":return{...e,services:t.services};case"SET_PRICES":return{...e,prices:{...e.prices,[t.service]:{express:t.express,normal:t.normal,currency:t.currency}}}}return e},actions:T,selectors:{getServices(e){const{services:t}=e;return{services:t}},getPrices(e){const{prices:t}=e;return{prices:t}}},controls:{FETCH_FROM_API:e=>A()({path:e.path}),POST_TO_API:e=>A()({path:e.path,method:"POST",data:e.data})},resolvers:{*getPrices(e,t){const c=yield T.postToApi("/bm-concierge/v1/"+e,t),{expressPrice:r,normalPrice:n,currency:o}=c;return T.setPrices(e,r,n,o)},*getServices(){const e=yield T.fetchFromApi("/bm-concierge/v1/services");return T.setServices(e)}}});Object(l.registerPlugin)("bm-concierge",{render:()=>Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.PluginDocumentSettingPanel,{initialOpen:!0,title:Object(i.__)("BM Concierge","bm-concierge")},Object(r.createElement)(h,null)),Object(r.createElement)(o.PluginSidebarMoreMenuItem,{target:"sidebar",icon:s},Object(i.__)("BM Concierge","bm-concierge")),Object(r.createElement)(o.PluginSidebar,{name:"sidebar",title:Object(i.__)("BM Concierge","bm-concierge"),icon:s},Object(r.createElement)(v,null))),icon:null}),Object(n.register)(M)}]);